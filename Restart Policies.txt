[ 57강. 도커 Restart Policies ]

- 컨테이너가 중지될 경우 어떻게 다시 시작할지를 결정하는 규칙
- docker-compose.yaml 파일에서 해당 서비스(컨테이너) 이름의 하위 부분에 restart: 'no' 등 과 같이 입력하면 된다.
  restart: 'no'
  restart: on-failure
  ...


1.< 'no' >

- 컨테이너가 종료되는 경우, 재시작하지 않음. 기본값임.
- 현재 개발 중인 컨테이너나, 실패 시 다시 시작할 필요가 없는 컨테이너에 적합.
- 아래 2~4번과 달리 반드시 no의 양 끝에 큰따옴표("") 또는 작은따옴표('')를 붙여줘야 한다!
  왜냐하면, 'Boolean타입의 반환값 no'가 아니라는 것을 구체적으로 구별해줘야 하기 때문!


2.< on-failure >

- 컨테이너가 비정상적으로 종료되어 비정상 죵료 코드를 반환할 경우에만 재시작함.
  (종료코드가 0이 아닌 경우(즉, 'exited with code 0'이 아닌 경우)에만 재시작함.)
- 신뢰할 수 있는 서비스에서 장애가 발생하여 자동 복구가 필요한 경우에 적합.


3.< always >

- 컨테이너가 멈추면 항상 재시작함. 비정상적으로 종료되든, 정상적으로 종료되든 무관.
- 컨테이너가 항상 작동해야 하는 시스템에서 필수. e.g: 웹서버 등


4.< unless-stopped >

- Always restart unless we(the developers) (intentionally) forcibly stop it.
- 컨테이너가 사용자에 의해 명시적으로 멈추지 않는 한, 항상 재시작함. 비정상으로 종료되든, 정상적으로 종료되든 무관.
- 관리자가 중단하기 전까지 컨테이너를 항상 실행하려는 경우에 적합.